# Telegram-канал с фотографиями космоса
Учебная задача в рамках модуля "API web-сервисов — Урок 4. Загрузите в Telegram фотографии космоса" для учебной платформы dvmn.org

Проект решает следующие задачи:

- Скачивание фотографий с таких ресурсов как: NASA и SpaceX
- Сохранение полученных фотографий в папке проекта
- Публикация в Telegram-канал полученных фотографий


# Установка:
- Скачать файлы
- Создать виртуальное окружение:
```
python -m venv env
```
- Распаковать архив в папку с вашим виртуальным окружением
- Прописать в виртуальном окружении:
```
pip install -r requirements.txt
```


# downloads_images
В файле собраны все общие функции, которые используются в проект

# fetch_epic_nasa
Файл содержит скрипт для скачивание фотографий земли, с видом из космоса с сайта Nasa 

### Для запуска необходимо:
- Скачать файл `fetch_epic_nasa.py`
- По [данной ссылке](https://api.nasa.gov/#apod) получить для себя токен для доступа к скачиванию фотографий с сайта
- создать файл `.env`, В нём прописать полученный токен следующим образом: 
```
'NASA_TOKEN'='ВАШ ТОКЕН'
```
- В командной строке прописать: 
``` 
python fetch_epic_nasa.py
```
Поумолчанию скачивается 5 фото

При желании можно указать необходимое количество скачиваемых фото:
```
python fetch_epic_nasa.py --count 10
```

Все фотографии скачиваются в папку `images`

# fetch_apod_nasa
Файл содержит скрипт для скачивание фотографий космоса, с сайта Nasa 
### Для запуска необходимо:
- Скачать файл `fetch_apod_nasa.py`
- По [данной ссылке](https://api.nasa.gov/#apod) получить для себя токен для доступа к скачиванию фотографий с сайта
- создать файл `.env`, В нём прописать полученный токен следующим образом: 
```
'NASA_TOKEN'='ВАШ ТОКЕН'
```
- В командной строке прописать: 
```
python fetch_apod_nasa.py
```
Поумолчанию скачивается 5 фото

При желании можно указать необхоимое количество скачиваемых фото:
```
python fetch_apod_nasa.py --count 10
```

Все фотографии скачиваются в папку `images`

# fetch_spacex_images
Файл содержит скрипт для скачивание фотографий запуска шатлов SpaceX
### Для запуска необходимо:
- Скачать файл `fetch_spacex_images.py`
- В командной строке прописать: 
```
python fetch_spacex_images.py
```
По умолчанию скачивается фото последнего запуска, если они есть в базе.

При желании можно указать id инетесующего запуска:
```
python fetch_spacex_images.py -id 5eb87d47ffd86e000604b38a
```

Все фотографии скачиваются в папку `images`

# telegram_bot
Файл содержит скрипт для запуска телеграмм бота, который будет с заданным интервалом времени отправлять на заданный канал фотографии из директории `images`
### Для запуска необходимо:
- Скачать файл `telegram_bot.py`
- Создать канал в телеграме и бота и получить токен, инструкция по ссылке: [Кликни тут](https://smmplanner.com/blog/otlozhennyj-posting-v-telegram/).
- создать файл `.env` и добавить туда токен следующей записью: 
```
'TELEGRAM_TOKEN'='ВАШ ТОКЕН'
``` 
и 
```
'TELEGRAM_CHANNEL_ID'='ВАШ ID'
```
- Сделать бота администратором канала (Что бы он мог отправлять в нём фотографии)
- В командной строке прописать: 
```
python telegram_bot.py
```
По умолчанию в канал будут отправляться рандомные фотографии из папки ` images ` с задержкой в 4 часа

Если необходимо отправить какую то определённую фотографию то необходимо при запусуке указать её путь. название файла с расширением как в примере:
```
python telegram_bot.py --image_path images/nasa_appod_9.jpg
```
Если хотите изменить время оправки рандомных фото, то нужно прописать следующую строку(время указывается в секундах):
```
python telegram_bot.py --seconds_delay 20
```
